<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<!-- change the description and title for your chart. These parts are helpful for search engines and screen readers. -->
		<meta name="description" content="Column chart example">
		<title>Column chart example | Carbon Brief</title>
		<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
		<script src="https://code.highcharts.com/highcharts.js"></script>
		<script src="https://code.highcharts.com/modules/data.js"></script>
		<script src="https://code.highcharts.com/modules/exporting.js"></script>
		<link href="https://fonts.googleapis.com/css?family=PT+Sans|PT+Sans+Narrow|PT+Serif&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://cbhighcharts.s3.eu-west-1.amazonaws.com/carbon-brief-highcharts.css">
		<style>
      #container {max-width: 770px; height: 500px;}
    </style>
	</head>
	<body>
		<!-- this part describes the basic structure of the website you'll be creating. It's written in HTML -->
		<div id="container"></div>
			<div id="logocontainer">
			<div id="source"><span class="source">Source:</span> XXX</div>
			<div id="logo" class="footer"></div>
		</div>
    
		<script type="text/javascript">
			// this section in the script tags is where everything that controls and draws the map goes. It's written in Javascript
			$(function() {
				Highcharts.setOptions({
					// dark blue - 0b4572// yellow - EFC530// light blue - 2f8fce// red - C7432B// light grey - 999999// lilac - A14A7B// orange - DF9239
					colors: ['#0b4572', '#C7432B', '#2f8fce', '#EFC530', '#DF9239', '#999999', '#A14A7B'],
					
					chart: {
					// set the font family for the chart. We use PT Sans to contrast with PT Serif which is the CB body text. Sans fonts are also easier to read at small point sizes.
						style: {
							fontFamily: '"PT Sans", Arial, sans-serif'
						}
					},
					// tells highcharts that thousands are to be separated by a comma, when separation is specified (it's not necessary in this example because the max number is 100)
					lang: {
						thousandsSep: ','
					}
				});
				// create the chart
				$('#container').highcharts({
					chart: {
						renderTo: 'container',
						backgroundColor: 'transparent',
						type: 'column',
						// marginBottom sets the amount of space beneath x axis, adjust in order to accommodate the groups names as best possible, in this case 140
						marginBottom: 140,
						zoomType: 'x,y'
					},
					// set the title of the chart
					title: {
						text: "Journals most frequently appearing in the top 25 climate papers",
						align: 'left',
					},
					subtitle: {
						text: "Subtitle",
						align: 'left',
					},

					// removes the hamburger menu. set to 'true' in order to be able to download an svg
					navigation: {
						buttonOptions: {
							enabled: false
						}
					},
					// turn off the highcharts credit
					credits: {
						enabled: false
					},
					// controls how the columns stack
					plotOptions: {
						column: {
							stacking: 'normal',
							pointPadding: 0,
							groupPadding: 0.1
						}
					},
					// options for the y axis
					yAxis: {
						// controls the order of series in a stacked column/area chart
						reversedStacks: false,
						// fixes the maximum value for the y axis (switch off with "//")
						max: 4,
						// sets the font size for the y axis labels
						labels: {
							style: {
								fontSize: '12px'
							},
							// adds the suffix "Mt" to the values on the y axis
							format: '{value}'
						},
						// set the title of the y axis
						title: {
							text: 'Frequency'
						}
					},
					// sets options for the x axis
					xAxis: {
						type: 'category',
						crosshair: {
							color: '#E5E5E5'
						},
						labels: {
							// rotation sets the labels at an angle, as in the example, in order to make the text more legible
							rotation: -50,
							style: {
								fontSize: '11px'
							}
						}
					},
					tooltip: {
						valueDecimals: 1,
						pointFormat: '<b>{point.y:,.0f}</b><br/>'
					},
					legend: {
						// turn the legend on or off
						enabled: false,
						padding: 20,
						layout: 'horizontal',
						floating: false,
						verticalAlign: 'top'
					},
					data: {
						// do not remove or alter
						googleAPIKey: 'AIzaSyB0QfnIL-dXwkL6PI05tn0LaiLPD1MqZG0',
						// googleSpreadsheetRange: ‘Name of sheet’,
						googleSpreadsheetKey: '13dYLpCTlWeoZVxmFF7M0ZUCdx-p8_b81jiJbRIuPC50'
					}
				},

				function(chart) { // on complete
				});
			});
    	</script>
	</body>
</html>